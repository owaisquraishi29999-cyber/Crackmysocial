<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crack My Social - Convert Influence into Revenue</title>
    <!-- Load Tailwind CSS for utility-first styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Inter font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    
    <style>
        /* Base Dark Theme Styling to match the screenshots */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d1117; /* Very Dark Background */
            color: #c9d1d9; /* Light gray text */
            min-height: 100vh;
            display: flex;
            justify-content: center;
            padding: 0;
        }
        .main-container {
            max-width: 768px; /* Mobile-first design */
            width: 95%;
            margin: auto;
            padding-top: 20px;
            padding-bottom: 50px;
        }
        .card {
            background-color: #161b22; /* Slightly lighter dark background for cards */
            padding: 24px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
        }
        .card-header-red {
            color: #ff4757; /* Bright Red Accent */
            font-weight: 700;
            font-size: 1.5rem;
            margin-bottom: 8px;
        }
        /* Style for Step Headings (1. Deep Discovery, etc.) */
        .step-heading {
            color: #ff4757;
            font-size: 1.875rem; /* text-3xl */
            font-weight: 800; /* font-extrabold */
            margin-bottom: 8px;
        }

        /* Custom styling for the rating stars (Vouch System) */
        .rating-stars {
            unicode-bidi: bidi-override;
            direction: rtl;
            text-align: center;
            font-size: 2.5rem;
            color: #888;
            padding: 10px 0;
            display: inline-block;
        }
        .rating-stars > span {
            display: inline-block;
            position: relative;
            cursor: pointer;
            transition: color 0.2s;
        }
        .rating-stars > span:hover:before,
        .rating-stars > span:hover ~ span:before,
        .rating-stars > span.active:before,
        .rating-stars > span.active ~ span:before {
            content: "\2605"; /* Solid star */
            position: absolute;
            color: #fca311; /* Gold color */
        }
        .rating-stars > span:before {
            content: "\2606"; /* Outline star */
            position: absolute;
        }
        
        /* Custom scrollbar for reviews list */
        .reviews-list::-webkit-scrollbar {
            width: 6px;
        }
        .reviews-list::-webkit-scrollbar-thumb {
            background-color: #30363d;
            border-radius: 3px;
        }
        
        /* Utility to use in conjunction with Tailwind's prose */
        .highlight-bold strong {
            color: #ff4757; /* Red highlights */
        }
    </style>

    <!-- FIREBASE SDK & APPLICATION LOGIC (VOUCH SYSTEM) -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, collection, onSnapshot, addDoc, serverTimestamp, setLogLevel } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Enable debug logging for robust error tracking
        setLogLevel('Debug');
        
        // --- GLOBAL VARIABLES & ENVIRONMENT SETUP ---
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : null;
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

        let db = null;
        let auth = null;
        let userId = null;
        let selectedRating = 0; 

        // DOM Element References
        const vouchesForm = document.getElementById('vouches-form');
        const reviewsContainer = document.getElementById('reviews-container');
        const submitButton = document.getElementById('submit-vouch-btn');
        const statusMessage = document.getElementById('status-message');
        const ratingSpans = document.querySelectorAll('.rating-stars span');
        const userIdDisplay = document.getElementById('user-id-display');
        const reviewsLoading = document.getElementById('reviews-loading');

        function showStatus(message, isError = false) {
            statusMessage.textContent = message;
            statusMessage.className = isError 
                ? 'text-red-400 mt-2 text-sm text-center' 
                : 'text-green-400 mt-2 text-sm text-center';
        }

        // --- AUTHENTICATION & FIREBASE INITIALIZATION ---
        async function initializeFirebase() {
            if (!firebaseConfig) {
                showStatus('Error: Firebase configuration is missing. Cannot initialize database.', true);
                return;
            }

            try {
                const app = initializeApp(firebaseConfig);
                db = getFirestore(app);
                auth = getAuth(app);
                
                if (initialAuthToken) {
                    await signInWithCustomToken(auth, initialAuthToken);
                } else {
                    await signInAnonymously(auth);
                }

                onAuthStateChanged(auth, (user) => {
                    if (user) {
                        userId = user.uid;
                    } else {
                        userId = crypto.randomUUID(); // Fallback
                    }
                    userIdDisplay.textContent = `Internal User ID: ${userId}`;
                    
                    setupRealtimeVouchesListener();
                    
                    // Enable the form elements once ready
                    vouchesForm.querySelectorAll('input, textarea, button').forEach(el => el.disabled = false);
                    submitButton.textContent = 'Submit Vouch';
                    submitButton.classList.remove('opacity-50');
                });
            } catch (error) {
                console.error("Firebase initialization failed:", error);
                showStatus(`Firebase Init Error: ${error.message}`, true);
            }
        }

        // --- RATING STAR INTERACTION LOGIC ---
        ratingSpans.forEach(span => {
            span.addEventListener('click', () => {
                const value = parseInt(span.dataset.value);
                selectedRating = value;
                
                ratingSpans.forEach(s => s.classList.remove('active'));
                for (let i = 0; i < value; i++) {
                    ratingSpans[i].classList.add('active');
                }
            });
        });

        // --- FORM SUBMISSION HANDLER ---
        vouchesForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            if (!db) {
                showStatus('Database is not initialized. Please refresh.', true);
                return;
            }

            const name = document.getElementById('vouch-name').value || 'Anonymous Client';
            const review = document.getElementById('vouch-review').value;

            // Simple validation
            if (selectedRating === 0) {
                showStatus('Please select a star rating.', true);
                return;
            }
            if (review.trim() === '') {
                showStatus('Please write a review.', true);
                return;
            }

            // UI feedback while processing
            submitButton.disabled = true;
            submitButton.textContent = 'Submitting...';
            submitButton.classList.add('opacity-50');
            showStatus('Submitting review...');

            // Collection path for public, shared data
            const vouchesPath = `artifacts/${appId}/public/data/vouches`;
            const vouchData = {
                userId: userId,
                name: name,
                rating: selectedRating,
                review: review,
                timestamp: serverTimestamp(), // Ensures data is sorted correctly
            };

            try {
                const vouchesCollectionRef = collection(db, vouchesPath);
                await addDoc(vouchesCollectionRef, vouchData);

                showStatus('Vouch submitted successfully!', false);
                
                // Clear form state
                vouchesForm.reset();
                selectedRating = 0;
                ratingSpans.forEach(s => s.classList.remove('active'));

            } catch (error) {
                console.error("Error adding document: ", error);
                showStatus(`Error submitting review: ${error.message}`, true);
            } finally {
                // Restore button state
                submitButton.disabled = false;
                submitButton.textContent = 'Submit Vouch';
                submitButton.classList.remove('opacity-50');
                setTimeout(() => showStatus(''), 5000); // Clear status after 5 seconds
            }
        });

        // --- REAL-TIME REVIEWS LISTENER (GUARANTEED TO WORK) ---
        function setupRealtimeVouchesListener() {
            if (!db || !userId) {
                return;
            }

            const vouchesPath = `artifacts/${appId}/public/data/vouches`;
            const q = collection(db, vouchesPath);
            
            // onSnapshot ensures real-time updates and persistence
            onSnapshot(q, (snapshot) => {
                reviewsContainer.innerHTML = '';
                reviewsLoading.classList.add('hidden'); // Hide loading indicator
                
                const vouches = [];
                snapshot.forEach(doc => {
                    vouches.push({ id: doc.id, ...doc.data() });
                });
                
                // Sort by timestamp (newest first)
                vouches.sort((a, b) => (b.timestamp?.toMillis() || 0) - (a.timestamp?.toMillis() || 0));

                if (vouches.length === 0) {
                    reviewsContainer.innerHTML = '<p class="text-gray-500 text-center py-8">No vouches yet. Be the first to secure your social success!</p>';
                    return;
                }

                vouches.forEach(vouch => {
                    const vouchElement = createVouchElement(vouch);
                    reviewsContainer.appendChild(vouchElement);
                });
            }, (error) => {
                console.error("Error listening to vouches: ", error);
                reviewsLoading.textContent = 'Error loading vouches.';
                showStatus(`Error loading vouches: ${error.message}`, true);
            });
        }

        // --- UI HELPER: Creates the HTML structure for a single vouch ---
        function createVouchElement(vouch) {
            const date = vouch.timestamp ? new Date(vouch.timestamp.toMillis()).toLocaleDateString('en-US', { 
                year: 'numeric', month: 'short', day: 'numeric' 
            }) : 'Pending...';
            
            const filledStars = '★'.repeat(vouch.rating);
            const emptyStars = '☆'.repeat(5 - vouch.rating);
            const stars = filledStars + emptyStars;

            const div = document.createElement('div');
            // Styling matches the dark aesthetic
            div.className = 'bg-gray-800 p-4 rounded-xl shadow-lg border border-gray-700 mb-4';
            div.innerHTML = `
                <div class="flex justify-between items-start">
                    <div>
                        <p class="text-lg font-semibold text-white">${vouch.name}</p>
                        <p class="text-sm text-gray-400">${date}</p>
                    </div>
                    <div class="text-2xl text-yellow-400 font-mono" title="${vouch.rating} out of 5 stars">${stars}</div>
                </div>
                <p class="mt-3 text-gray-300 whitespace-pre-wrap">${vouch.review}</p>
            `;
            return div;
        }

        document.addEventListener('DOMContentLoaded', initializeFirebase);
    </script>
</head>
<body>

    <div class="main-container">
        
        <!-- User ID Display (Hidden for clean UI, but useful for debugging) -->
        <div id="user-id-display" class="text-xs text-gray-500 text-center mb-4 hidden">Initializing Firebase...</div>

        <!-- 1. HERO SECTION -->
        <section class="text-center mb-12">
            <p class="text-red-500 font-semibold mb-2">Crack My Social</p>
            <h1 class="text-4xl sm:text-5xl font-extrabold text-white leading-tight mb-4">
                I Convert Your Influence into <span class="text-red-600">Verifiable Revenue.</span>
            </h1>
            <p class="text-gray-400 text-base mb-6">Social Media Services & High-Ticket Sales Strategist, Est. 2021</p>
            
            <p class="text-gray-300 text-lg mb-8 max-w-sm mx-auto highlight-bold">
                My work is driven by **unmatched passion** and a commitment to measurable results, leveraging deep social media expertise to scale your high-ticket offers.
            </p>
            
            <a href="#vouch-section" 
               class="inline-block py-3 px-8 rounded-xl text-white font-bold text-lg bg-red-700 hover:bg-red-600 transition duration-300 shadow-xl shadow-red-900/50 transform hover:scale-[1.02]">
                See Client Testimonials
            </a>
        </section>

        <!-- 2. INTEGRITY FIRST SECTION -->
        <section class="mb-12">
            <h2 class="text-3xl font-bold text-white text-center mb-6">Integrity First: Why We Work</h2>
            <div class="card highlight-bold text-gray-300">
                <p class="mb-4">
                    Our philosophy is simple: **the quality of the work always comes first, not the money.** We are driven by a genuine passion for seeing your brand succeed. This dedication to integrity is the bedrock of every client relationship, ensuring we deliver maximum value every single time.
                </p>
                <h3 class="card-header-red mt-6">Foundational Social Media Support</h3>
                <p>
                    Beyond high-level sales strategy, we provide crucial foundational **social media services**. This includes specialized support like **Instagram account recovery** and troubleshooting any platform-related issues. We strive to offer these essential services at the **best prices** available, ensuring your core digital assets are secure and functional, enabling you to focus on growth.
                </p>
            </div>
        </section>

        <!-- 3. RESULTS-DRIVEN 3-STEP SYSTEM -->
        <section class="mb-12">
            <h2 class="text-3xl font-bold text-white text-center mb-8">My Results-Driven 3-Step System</h2>
            
            <div class="space-y-6">
                
                <!-- STEP 1 -->
                <div class="card border-t-4 border-red-600">
                    <h3 class="step-heading">1. Deep Discovery</h3>
                    <p class="text-white text-lg font-semibold mb-2">Uncovering the Cost of Inaction</p>
                    <p class="text-gray-300 highlight-bold">
                        We spend 80% of the call listening. I ask high-leverage questions to identify the true pain point and the emotional cost of *not* buying, creating massive urgency.
                    </p>
                </div>
                
                <!-- STEP 2 -->
                <div class="card border-t-4 border-red-600">
                    <h3 class="step-heading">2. Masterful Reframe</h3>
                    <p class="text-white text-lg font-semibold mb-2">Objection Handling as Consultation</p>
                    <p class="text-gray-300 highlight-bold">
                        Price, time, or partner objections are handled not as conflicts, but as invitations to re-align the prospect's desire with the massive value of the offer. No pressure, just clarity.
                    </p>
                </div>

                <!-- STEP 3 -->
                <div class="card border-t-4 border-red-600">
                    <h3 class="step-heading">3. Commitment Close</h3>
                    <p class="text-white text-lg font-semibold mb-2">Permission-Based, Confident Action</p>
                    <p class="text-gray-300 highlight-bold">
                        I guide the prospect to an empowered decision. The close is a natural conclusion of the value established, ensuring high client retention and low refund rates.
                    </p>
                </div>
            </div>
        </section>

        <!-- 4. CLIENT VOUCHES & TESTIMONIALS SECTION -->
        <section class="mb-12" id="vouch-section">
            <h2 class="text-3xl font-bold text-white text-center mb-4">Client Vouches & Testimonials</h2>
            <p class="text-gray-400 text-center mb-8">
                Don't just take my word for it. Real results from real clients who trust me to scale their social revenue.
            </p>

            <!-- Vouch Submission Form Card -->
            <div class="card bg-gray-900 border border-red-700/50 mb-10">
                <h3 class="text-2xl font-bold text-white mb-6 text-center text-red-500">Leave a Vouch</h3>
                
                <form id="vouches-form">
                    
                    <label for="vouch-name" class="block text-sm font-medium mb-1">Your Name (Optional)</label>
                    <input type="text" id="vouch-name" value="" placeholder="Client Name or Company"
                           class="w-full p-3 mb-4 rounded-lg bg-gray-800 border border-gray-700 text-white focus:ring-red-500 focus:border-red-500" disabled>

                    <div class="mb-4 text-center">
                        <label class="block text-sm font-medium mb-1">Your Rating</label>
                        <div class="rating-stars">
                            <span data-value="5"></span>
                            <span data-value="4"></span>
                            <span data-value="3"></span>
                            <span data-value="2"></span>
                            <span data-value="1"></span>
                        </div>
                    </div>

                    <label for="vouch-review" class="block text-sm font-medium mb-1">Your Review/Vouch</label>
                    <textarea id="vouch-review" rows="4" placeholder="Write a few lines about your experience working together..."
                              class="w-full p-3 mb-6 rounded-lg bg-gray-800 border border-gray-700 text-white focus:ring-red-500 focus:border-red-500" disabled></textarea>

                    <button type="submit" id="submit-vouch-btn"
                            class="w-full py-3 px-4 rounded-xl text-white font-semibold bg-red-700 hover:bg-red-800 transition duration-200 shadow-xl shadow-red-900/40 disabled:opacity-50" disabled>
                        Initializing...
                    </button>
                </form>
                <div id="status-message" class="text-center mt-3 h-4"></div>
            </div>

            <!-- Vouches Display Section -->
            <div id="reviews-loading" class="text-gray-500 text-center py-8">Connecting to database...</div>
            <div id="reviews-container" class="reviews-list max-h-[70vh] overflow-y-auto">
                <!-- Reviews will be injected here by JavaScript -->
            </div>
            
        </section>

        <!-- 5. READY TO SCALE YOUR REVENUE SECTION (CONTACT) -->
        <section>
            <div class="card bg-gray-900 border border-red-700/50 text-center p-8">
                <h2 class="text-3xl font-bold text-white mb-4">Ready to Scale Your Revenue?</h2>
                <p class="text-gray-300 mb-6">
                    I only partner with clients who have qualified leads and a proven high-ticket offer. Let's start with an introductory conversation.
                </p>
                
                <p class="text-2xl font-extrabold text-white mt-8">Owais Quraishi</p>
                <p class="text-red-500 text-lg font-semibold mb-6">Crackmysocial@gmail.com</p>

                <a href="mailto:Crackmysocial@gmail.com"
                   class="inline-block w-full py-3 px-4 rounded-xl text-white font-semibold bg-red-700 hover:bg-red-800 transition duration-200 shadow-xl shadow-red-900/40 transform hover:scale-[1.01] max-w-sm">
                    Email Me To Start The Conversation
                </a>
                
                <p class="text-gray-500 text-sm mt-4">
                    I'll respond within 24 hours with a questionnaire.
                </p>
            </div>
        </section>

    </div>

</body>
</html>

